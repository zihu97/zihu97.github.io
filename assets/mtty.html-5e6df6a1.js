const t=JSON.parse('{"key":"v-06b7c0f0","path":"/posts/linux/virtualization/mtty/mtty.html","title":"VFIO框架源码分析（五）- MDEV驱动实现剖析：以mtty示例驱动为蓝本","lang":"zh-CN","frontmatter":{"date":"2025-11-22T00:00:00.000Z","article":true,"category":["tech"],"tag":["vfio"],"description":"VFIO框架源码分析（五）- MDEV驱动实现剖析：以mtty示例驱动为蓝本 引言与整体框架 在前文对 vfio-mdev 框架的分析中，我们了解到它是一个通用的“胶水层”，负责将任何 mdev (Mediated Device) 虚拟设备适配到 VFIO 体系中。然而，vfio-mdev 自身并不创造虚拟设备，这一职责落在了底层的物理设备驱动身上。mtty (Mediated TTY) 正是内核源码中提供的一个官方示例，它完整地展示了一个物理驱动（尽管它本身也是虚拟的）如何实现 MDEV 接口，从而将其“硬件”资源分割给多个用户。","head":[["meta",{"property":"og:url","content":"https://zihu97.github.io/posts/linux/virtualization/mtty/mtty.html"}],["meta",{"property":"og:site_name","content":"紫狐"}],["meta",{"property":"og:title","content":"VFIO框架源码分析（五）- MDEV驱动实现剖析：以mtty示例驱动为蓝本"}],["meta",{"property":"og:description","content":"VFIO框架源码分析（五）- MDEV驱动实现剖析：以mtty示例驱动为蓝本 引言与整体框架 在前文对 vfio-mdev 框架的分析中，我们了解到它是一个通用的“胶水层”，负责将任何 mdev (Mediated Device) 虚拟设备适配到 VFIO 体系中。然而，vfio-mdev 自身并不创造虚拟设备，这一职责落在了底层的物理设备驱动身上。mtty (Mediated TTY) 正是内核源码中提供的一个官方示例，它完整地展示了一个物理驱动（尽管它本身也是虚拟的）如何实现 MDEV 接口，从而将其“硬件”资源分割给多个用户。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://zihu97.github.io/"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-22T04:20:06.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"VFIO框架源码分析（五）- MDEV驱动实现剖析：以mtty示例驱动为蓝本"}],["meta",{"property":"article:author","content":"紫狐"}],["meta",{"property":"article:tag","content":"vfio"}],["meta",{"property":"article:published_time","content":"2025-11-22T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-11-22T04:20:06.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"VFIO框架源码分析（五）- MDEV驱动实现剖析：以mtty示例驱动为蓝本\\",\\"image\\":[\\"https://zihu97.github.io/\\"],\\"datePublished\\":\\"2025-11-22T00:00:00.000Z\\",\\"dateModified\\":\\"2025-11-22T04:20:06.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"紫狐\\",\\"url\\":\\"https://zihu97.github.io/\\"}]}"]]},"headers":[{"level":2,"title":"引言与整体框架","slug":"引言与整体框架","link":"#引言与整体框架","children":[]},{"level":2,"title":"分步详解：一个mtty虚拟设备的生命周期","slug":"分步详解-一个mtty虚拟设备的生命周期","link":"#分步详解-一个mtty虚拟设备的生命周期","children":[{"level":3,"title":"第一步：MDEV实例的创建与探测 (mtty_probe)","slug":"第一步-mdev实例的创建与探测-mtty-probe","link":"#第一步-mdev实例的创建与探测-mtty-probe","children":[]},{"level":3,"title":"第二步：I/O模拟与VFIO接口实现 (mtty_dev_ops)","slug":"第二步-i-o模拟与vfio接口实现-mtty-dev-ops","link":"#第二步-i-o模拟与vfio接口实现-mtty-dev-ops","children":[]}]},{"level":2,"title":"总结","slug":"总结","link":"#总结","children":[]},{"level":2,"title":"关于作者","slug":"关于作者","link":"#关于作者","children":[]}],"git":{"createdTime":1763785206000,"updatedTime":1763785206000,"contributors":[{"name":"zihu97","email":"zihu@chipltech.com","commits":1}]},"readingTime":{"minutes":4.98,"words":1495},"filePathRelative":"posts/linux/virtualization/mtty/mtty.md","localizedDate":"2025年11月22日","excerpt":"<h1> VFIO框架源码分析（五）- MDEV驱动实现剖析：以mtty示例驱动为蓝本</h1>\\n<h2> 引言与整体框架</h2>\\n<p>在前文对 <code>vfio-mdev</code> 框架的分析中，我们了解到它是一个通用的“胶水层”，负责将任何 <code>mdev</code> (Mediated Device) 虚拟设备适配到 VFIO 体系中。然而，<code>vfio-mdev</code> 自身并不创造虚拟设备，这一职责落在了底层的物理设备驱动身上。<code>mtty</code> (Mediated TTY) 正是内核源码中提供的一个官方示例，它完整地展示了一个物理驱动（尽管它本身也是虚拟的）如何实现 <code>MDEV</code> 接口，从而将其“硬件”资源分割给多个用户。</p>","autoDesc":true}');export{t as data};
