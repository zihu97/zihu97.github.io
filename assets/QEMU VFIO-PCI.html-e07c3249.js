const t=JSON.parse('{"key":"v-79e5e216","path":"/posts/linux/virtualization/qemu/VFIO-PCI/QEMU%20VFIO-PCI.html","title":"VFIO框架源码分析（八）- QEMU VFIO-PCI 设备类型的注册与初始化深度解析","lang":"zh-CN","frontmatter":{"date":"2025-11-25T00:00:00.000Z","article":true,"category":["tech"],"tag":["vfio","qemu"],"description":"VFIO框架源码分析（八）- QEMU VFIO-PCI 设备类型的注册与初始化深度解析 简介与背景 在虚拟化技术中，PCI 设备直通（Passthrough）是实现高性能 I/O 的关键技术。QEMU 作为用户态的虚拟机监控器（VMM），通过 VFIO（Virtual Function I/O）子系统与 Linux 内核交互，将物理设备的控制权安全地暴露给虚拟机。 然而，在 QEMU 真正打开 /dev/vfio 设备文件之前，它必须先在自身的对象模型（QOM, QEMU Object Model）中“注册”这一设备类型。这一步看似简单，实则是定义设备生命周期（创建、复位、迁移、销毁）的基石。","head":[["meta",{"property":"og:url","content":"https://zihu97.github.io/posts/linux/virtualization/qemu/VFIO-PCI/QEMU%20VFIO-PCI.html"}],["meta",{"property":"og:site_name","content":"紫狐"}],["meta",{"property":"og:title","content":"VFIO框架源码分析（八）- QEMU VFIO-PCI 设备类型的注册与初始化深度解析"}],["meta",{"property":"og:description","content":"VFIO框架源码分析（八）- QEMU VFIO-PCI 设备类型的注册与初始化深度解析 简介与背景 在虚拟化技术中，PCI 设备直通（Passthrough）是实现高性能 I/O 的关键技术。QEMU 作为用户态的虚拟机监控器（VMM），通过 VFIO（Virtual Function I/O）子系统与 Linux 内核交互，将物理设备的控制权安全地暴露给虚拟机。 然而，在 QEMU 真正打开 /dev/vfio 设备文件之前，它必须先在自身的对象模型（QOM, QEMU Object Model）中“注册”这一设备类型。这一步看似简单，实则是定义设备生命周期（创建、复位、迁移、销毁）的基石。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://zihu97.github.io/"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-23T05:36:29.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"VFIO框架源码分析（八）- QEMU VFIO-PCI 设备类型的注册与初始化深度解析"}],["meta",{"property":"article:author","content":"紫狐"}],["meta",{"property":"article:tag","content":"vfio"}],["meta",{"property":"article:tag","content":"qemu"}],["meta",{"property":"article:published_time","content":"2025-11-25T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-11-23T05:36:29.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"VFIO框架源码分析（八）- QEMU VFIO-PCI 设备类型的注册与初始化深度解析\\",\\"image\\":[\\"https://zihu97.github.io/\\"],\\"datePublished\\":\\"2025-11-25T00:00:00.000Z\\",\\"dateModified\\":\\"2025-11-23T05:36:29.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"紫狐\\",\\"url\\":\\"https://zihu97.github.io/\\"}]}"]]},"headers":[{"level":2,"title":"简介与背景","slug":"简介与背景","link":"#简介与背景","children":[]},{"level":2,"title":"核心入口：type_init 与 QOM 机制","slug":"核心入口-type-init-与-qom-机制","link":"#核心入口-type-init-与-qom-机制","children":[]},{"level":2,"title":"逐层代码拆解：从类（Class）到实例（Instance）","slug":"逐层代码拆解-从类-class-到实例-instance","link":"#逐层代码拆解-从类-class-到实例-instance","children":[{"level":3,"title":"类型定义的奥秘 (vfio_pci_dev_info)","slug":"类型定义的奥秘-vfio-pci-dev-info","link":"#类型定义的奥秘-vfio-pci-dev-info","children":[]},{"level":3,"title":"类初始化 (vfio_pci_dev_class_init)","slug":"类初始化-vfio-pci-dev-class-init","link":"#类初始化-vfio-pci-dev-class-init","children":[]},{"level":3,"title":"实例初始化 (vfio_instance_init)","slug":"实例初始化-vfio-instance-init","link":"#实例初始化-vfio-instance-init","children":[]}]},{"level":2,"title":"总结","slug":"总结","link":"#总结","children":[]},{"level":2,"title":"关于作者","slug":"关于作者","link":"#关于作者","children":[]}],"git":{"createdTime":1763876189000,"updatedTime":1763876189000,"contributors":[{"name":"zihu97","email":"zihu@chipltech.com","commits":1}]},"readingTime":{"minutes":3.4,"words":1020},"filePathRelative":"posts/linux/virtualization/qemu/VFIO-PCI/QEMU VFIO-PCI.md","localizedDate":"2025年11月25日","excerpt":"<h1> VFIO框架源码分析（八）- QEMU VFIO-PCI 设备类型的注册与初始化深度解析</h1>\\n<h2> 简介与背景</h2>\\n<p>在虚拟化技术中，PCI 设备直通（Passthrough）是实现高性能 I/O 的关键技术。QEMU 作为用户态的虚拟机监控器（VMM），通过 VFIO（Virtual Function I/O）子系统与 Linux 内核交互，将物理设备的控制权安全地暴露给虚拟机。</p>\\n<p>然而，在 QEMU 真正打开 /dev/vfio 设备文件之前，它必须先在自身的对象模型（QOM, QEMU Object Model）中“注册”这一设备类型。这一步看似简单，实则是定义设备生命周期（创建、复位、迁移、销毁）的基石。</p>","autoDesc":true}');export{t as data};
