const e=JSON.parse('{"key":"v-a1c62f5e","path":"/posts/linux/vfio/vfio-pci.html","title":"VFIO框架源码分析（二）- PCI设备的生命周期管理","lang":"zh-CN","frontmatter":{"date":"2025-11-18T00:00:00.000Z","article":true,"category":["tech"],"tag":["vfio"],"description":"VFIO框架源码分析（二）- PCI设备的生命周期管理 引言与整体框架 在上一篇文章中，我们分析了VFIO的核心框架层，它定义了一套通用的、层次化的设备管理模型（Container -&gt; Group -&gt; Device）。然而，这个核心层是与具体总线无关的。为了管理真实世界中的设备，VFIO需要针对特定总线的驱动程序来实现其定义的 vfio_device_ops 接口。vfio-pci 就是这一理念下最重要的实现，它专门负责管理PCI/PCIe设备，是实现设备直通的关键工作模块。","head":[["meta",{"property":"og:url","content":"https://zihu97.github.io/posts/linux/vfio/vfio-pci.html"}],["meta",{"property":"og:site_name","content":"紫狐"}],["meta",{"property":"og:title","content":"VFIO框架源码分析（二）- PCI设备的生命周期管理"}],["meta",{"property":"og:description","content":"VFIO框架源码分析（二）- PCI设备的生命周期管理 引言与整体框架 在上一篇文章中，我们分析了VFIO的核心框架层，它定义了一套通用的、层次化的设备管理模型（Container -&gt; Group -&gt; Device）。然而，这个核心层是与具体总线无关的。为了管理真实世界中的设备，VFIO需要针对特定总线的驱动程序来实现其定义的 vfio_device_ops 接口。vfio-pci 就是这一理念下最重要的实现，它专门负责管理PCI/PCIe设备，是实现设备直通的关键工作模块。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://zihu97.github.io/"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-18T13:32:04.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"VFIO框架源码分析（二）- PCI设备的生命周期管理"}],["meta",{"property":"article:author","content":"紫狐"}],["meta",{"property":"article:tag","content":"vfio"}],["meta",{"property":"article:published_time","content":"2025-11-18T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-11-18T13:32:04.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"VFIO框架源码分析（二）- PCI设备的生命周期管理\\",\\"image\\":[\\"https://zihu97.github.io/\\"],\\"datePublished\\":\\"2025-11-18T00:00:00.000Z\\",\\"dateModified\\":\\"2025-11-18T13:32:04.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"紫狐\\",\\"url\\":\\"https://zihu97.github.io/\\"}]}"]]},"headers":[{"level":2,"title":"引言与整体框架","slug":"引言与整体框架","link":"#引言与整体框架","children":[]},{"level":2,"title":"分步详解：vfio_pci_ops 的实现","slug":"分步详解-vfio-pci-ops-的实现","link":"#分步详解-vfio-pci-ops-的实现","children":[{"level":3,"title":"设备打开与初始化 (open_device)","slug":"设备打开与初始化-open-device","link":"#设备打开与初始化-open-device","children":[]},{"level":3,"title":"核心控制接口 (ioctl)","slug":"核心控制接口-ioctl","link":"#核心控制接口-ioctl","children":[]},{"level":3,"title":"数据通路：内存映射与I/O (mmap, read, write)","slug":"数据通路-内存映射与i-o-mmap-read-write","link":"#数据通路-内存映射与i-o-mmap-read-write","children":[]}]},{"level":2,"title":"总结","slug":"总结","link":"#总结","children":[]},{"level":2,"title":"关于作者","slug":"关于作者","link":"#关于作者","children":[]}],"git":{"createdTime":1763472724000,"updatedTime":1763472724000,"contributors":[{"name":"zihu97","email":"zihu@chipltech.com","commits":1}]},"readingTime":{"minutes":6.01,"words":1802},"filePathRelative":"posts/linux/vfio/vfio-pci.md","localizedDate":"2025年11月18日","excerpt":"<h1> VFIO框架源码分析（二）- PCI设备的生命周期管理</h1>\\n<h2> 引言与整体框架</h2>\\n<p>在上一篇文章中，我们分析了VFIO的核心框架层，它定义了一套通用的、层次化的设备管理模型（Container -&gt; Group -&gt; Device）。然而，这个核心层是与具体总线无关的。为了管理真实世界中的设备，VFIO需要针对特定总线的驱动程序来实现其定义的 <code>vfio_device_ops</code> 接口。<code>vfio-pci</code> 就是这一理念下最重要的实现，它专门负责管理PCI/PCIe设备，是实现设备直通的关键工作模块。</p>","autoDesc":true}');export{e as data};
