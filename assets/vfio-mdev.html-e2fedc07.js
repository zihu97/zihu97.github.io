const e=JSON.parse('{"key":"v-14a8b370","path":"/posts/linux/virtualization/vfio-mdev/vfio-mdev.html","title":"VFIO框架源码分析（四）- VFIO-MDEV设备虚拟化的新篇章","lang":"zh-CN","frontmatter":{"date":"2025-11-21T00:00:00.000Z","article":true,"category":["tech"],"tag":["vfio"],"description":"VFIO框架源码分析（四）- VFIO-MDEV设备虚拟化的新篇章 引言与整体框架 我们之前讨论的 vfio-pci 实现了设备的物理直通，它功能强大但存在一个核心限制：独占性。一个物理设备一旦被分配给一个虚拟机，其他虚拟机或宿主机便无法再使用它。为了解决这一问题，内核引入了MDEV（Mediated Device）框架。MDEV 是一种设备虚拟化技术，允许一个物理设备（Parent Device）被“分割”成多个独立的虚拟设备（Mediated Devices），这些虚拟设备可以被独立地分配给不同的虚拟机，从而实现单张物理卡（如GPU、FPGA）的多用户共享。","head":[["meta",{"property":"og:url","content":"https://zihu97.github.io/posts/linux/virtualization/vfio-mdev/vfio-mdev.html"}],["meta",{"property":"og:site_name","content":"紫狐"}],["meta",{"property":"og:title","content":"VFIO框架源码分析（四）- VFIO-MDEV设备虚拟化的新篇章"}],["meta",{"property":"og:description","content":"VFIO框架源码分析（四）- VFIO-MDEV设备虚拟化的新篇章 引言与整体框架 我们之前讨论的 vfio-pci 实现了设备的物理直通，它功能强大但存在一个核心限制：独占性。一个物理设备一旦被分配给一个虚拟机，其他虚拟机或宿主机便无法再使用它。为了解决这一问题，内核引入了MDEV（Mediated Device）框架。MDEV 是一种设备虚拟化技术，允许一个物理设备（Parent Device）被“分割”成多个独立的虚拟设备（Mediated Devices），这些虚拟设备可以被独立地分配给不同的虚拟机，从而实现单张物理卡（如GPU、FPGA）的多用户共享。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://zihu97.github.io/"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-22T04:20:06.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"VFIO框架源码分析（四）- VFIO-MDEV设备虚拟化的新篇章"}],["meta",{"property":"article:author","content":"紫狐"}],["meta",{"property":"article:tag","content":"vfio"}],["meta",{"property":"article:published_time","content":"2025-11-21T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-11-22T04:20:06.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"VFIO框架源码分析（四）- VFIO-MDEV设备虚拟化的新篇章\\",\\"image\\":[\\"https://zihu97.github.io/\\"],\\"datePublished\\":\\"2025-11-21T00:00:00.000Z\\",\\"dateModified\\":\\"2025-11-22T04:20:06.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"紫狐\\",\\"url\\":\\"https://zihu97.github.io/\\"}]}"]]},"headers":[{"level":2,"title":"引言与整体框架","slug":"引言与整体框架","link":"#引言与整体框架","children":[]},{"level":2,"title":"分步详解：从Sysfs创建到VFIO设备","slug":"分步详解-从sysfs创建到vfio设备","link":"#分步详解-从sysfs创建到vfio设备","children":[{"level":3,"title":"第一步：MDEV设备的诞生 (create_store)","slug":"第一步-mdev设备的诞生-create-store","link":"#第一步-mdev设备的诞生-create-store","children":[]},{"level":3,"title":"第二步：VFIO驱动的探测与绑定 (vfio_mdev_probe)","slug":"第二步-vfio驱动的探测与绑定-vfio-mdev-probe","link":"#第二步-vfio驱动的探测与绑定-vfio-mdev-probe","children":[]},{"level":3,"title":"第三步：代理模式 (vfio_mdev_dev_ops)","slug":"第三步-代理模式-vfio-mdev-dev-ops","link":"#第三步-代理模式-vfio-mdev-dev-ops","children":[]}]},{"level":2,"title":"总结","slug":"总结","link":"#总结","children":[]},{"level":2,"title":"关于作者","slug":"关于作者","link":"#关于作者","children":[]}],"git":{"createdTime":1763785206000,"updatedTime":1763785206000,"contributors":[{"name":"zihu97","email":"zihu@chipltech.com","commits":1}]},"readingTime":{"minutes":5.4,"words":1619},"filePathRelative":"posts/linux/virtualization/vfio-mdev/vfio-mdev.md","localizedDate":"2025年11月21日","excerpt":"<h1> VFIO框架源码分析（四）- VFIO-MDEV设备虚拟化的新篇章</h1>\\n<h2> 引言与整体框架</h2>\\n<p>我们之前讨论的 <code>vfio-pci</code> 实现了设备的物理直通，它功能强大但存在一个核心限制：独占性。一个物理设备一旦被分配给一个虚拟机，其他虚拟机或宿主机便无法再使用它。为了解决这一问题，内核引入了<code>MDEV</code>（Mediated Device）框架。<code>MDEV</code> 是一种设备虚拟化技术，允许一个物理设备（Parent Device）被“分割”成多个独立的虚拟设备（Mediated Devices），这些虚拟设备可以被独立地分配给不同的虚拟机，从而实现单张物理卡（如GPU、FPGA）的多用户共享。</p>","autoDesc":true}');export{e as data};
